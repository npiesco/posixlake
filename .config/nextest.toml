[profile.default]
# Run tests serially by default (NFS tests need this)
test-threads = 1

# Retry flaky tests up to 2 times
retries = 2

# Slow test timeout (NFS tests can be slow)
slow-timeout = { period = "60s", terminate-after = 3 }

# Fail fast to save time
fail-fast = true

[profile.default.junit]
path = "target/nextest/junit.xml"

[profile.ci]
# For CI: fail fast, no retries
fail-fast = true
retries = 0
test-threads = 1

# Integration tests can be slower
[[profile.default.overrides]]
filter = 'kind(test) & !kind(bench)'
slow-timeout = { period = "120s" }
